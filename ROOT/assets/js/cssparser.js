/*!            
    C+edition for Desktop, Community Edition.
    Copyright (C) 2021 Cplusedition Limited.  All rights reserved.
    
    The author licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at
    
        http://www.apache.org/licenses/LICENSE-2.0
    
    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
*/
"use strict";var XxA7=function(){var e=function(e,t){this.id=e,this.message=t};function t(e,t){return t}var r,i,n,s={NumberExpected:new e("css-numberexpected",t(0,"number expected")),ConditionExpected:new e("css-conditionexpected",t(0,"condition expected")),RuleOrSelectorExpected:new e("css-ruleorselectorexpected",t(0,"at-rule or selector expected")),DotExpected:new e("css-dotexpected",t(0,"dot expected")),ColonExpected:new e("css-colonexpected",t(0,"colon expected")),SemiColonExpected:new e("css-semicolonexpected",t(0,"semi-colon expected")),TermExpected:new e("css-termexpected",t(0,"term expected")),ExpressionExpected:new e("css-expressionexpected",t(0,"expression expected")),OperatorExpected:new e("css-operatorexpected",t(0,"operator expected")),IdentifierExpected:new e("css-identifierexpected",t(0,"identifier expected")),PercentageExpected:new e("css-percentageexpected",t(0,"percentage expected")),URIOrStringExpected:new e("css-uriorstringexpected",t(0,"uri or string expected")),URIExpected:new e("css-uriexpected",t(0,"URI expected")),VariableNameExpected:new e("css-varnameexpected",t(0,"variable name expected")),VariableValueExpected:new e("css-varvalueexpected",t(0,"variable value expected")),PropertyValueExpected:new e("css-propertyvalueexpected",t(0,"property value expected")),LeftCurlyExpected:new e("css-lcurlyexpected",t(0,"{ expected")),RightCurlyExpected:new e("css-rcurlyexpected",t(0,"} expected")),LeftSquareBracketExpected:new e("css-rbracketexpected",t(0,"[ expected")),RightSquareBracketExpected:new e("css-lbracketexpected",t(0,"] expected")),LeftParenthesisExpected:new e("css-lparentexpected",t(0,"( expected")),RightParenthesisExpected:new e("css-rparentexpected",t(0,") expected")),CommaExpected:new e("css-commaexpected",t(0,"comma expected")),PageDirectiveOrDeclarationExpected:new e("css-pagedirordeclexpected",t(0,"page directive or declaraton expected")),UnknownAtRule:new e("css-unknownatrule",t(0,"at-rule unknown")),UnknownKeyword:new e("css-unknownkeyword",t(0,"unknown keyword")),SelectorExpected:new e("css-selectorexpected",t(0,"selector expected")),StringLiteralExpected:new e("css-stringliteralexpected",t(0,"string literal expected")),WhitespaceExpected:new e("css-whitespaceexpected",t(0,"whitespace expected")),MediaQueryExpected:new e("css-mediaqueryexpected",t(0,"media query expected"))},o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});!function(e){e.Undefined=0,e.Identifier=1,e.Stylesheet=2,e.Ruleset=3,e.Selector=4,e.SimpleSelector=5,e.SelectorInterpolation=6,e.SelectorCombinator=7,e.SelectorCombinatorParent=8,e.SelectorCombinatorSibling=9,e.SelectorCombinatorAllSiblings=10,e.SelectorCombinatorShadowPiercingDescendant=11,e.Page=12,e.PageBoxMarginBox=13,e.ClassSelector=14,e.IdentifierSelector=15,e.ElementNameSelector=16,e.PseudoSelector=17,e.AttributeSelector=18,e.Declaration=19,e.Declarations=20,e.Property=21,e.Expression=22,e.BinaryExpression=23,e.Term=24,e.Operator=25,e.Value=26,e.StringLiteral=27,e.URILiteral=28,e.EscapedValue=29,e.Function=30,e.NumericValue=31,e.HexColorValue=32,e.MixinDeclaration=33,e.MixinReference=34,e.VariableName=35,e.VariableDeclaration=36,e.Prio=37,e.Interpolation=38,e.NestedProperties=39,e.ExtendsReference=40,e.SelectorPlaceholder=41,e.Debug=42,e.If=43,e.Else=44,e.For=45,e.Each=46,e.While=47,e.MixinContent=48,e.Media=49,e.Keyframe=50,e.FontFace=51,e.Import=52,e.Namespace=53,e.Invocation=54,e.FunctionDeclaration=55,e.ReturnStatement=56,e.MediaQuery=57,e.FunctionParameter=58,e.FunctionArgument=59,e.KeyframeSelector=60,e.ViewPort=61,e.Document=62,e.AtApplyRule=63,e.CustomPropertyDeclaration=64,e.CustomPropertySet=65,e.ListEntry=66,e.Supports=67,e.SupportsCondition=68,e.NamespacePrefix=69,e.GridLine=70,e.Plugin=71,e.UnknownAtRule=72}(i||(i={})),function(e){e[e.Mixin=0]="Mixin",e[e.Rule=1]="Rule",e[e.Variable=2]="Variable",e[e.Function=3]="Function",e[e.Keyframe=4]="Keyframe",e[e.Unknown=5]="Unknown"}(n||(n={}));var a,h=function(){function e(e,t,r){void 0===e&&(e=-1),void 0===t&&(t=-1),this.parent=null,this.offset=e,this.length=t,r&&(this.nodeType=r)}return Object.defineProperty(e.prototype,"end",{get:function(){return this.offset+this.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.nodeType||i.Undefined},set:function(e){this.nodeType=e},enumerable:!0,configurable:!0}),e.prototype.getTextProvider=function(){for(var e=this;e&&!e.textProvider;)e=e.parent;return e?e.textProvider:function(){return"unknown"}},e.prototype.getText=function(){return this.getTextProvider()(this.offset,this.length)},e.prototype.matches=function(e){return this.length===e.length&&this.getTextProvider()(this.offset,this.length)===e},e.prototype.startsWith=function(e){return this.length>=e.length&&this.getTextProvider()(this.offset,e.length)===e},e.prototype.endsWith=function(e){return this.length>=e.length&&this.getTextProvider()(this.end-e.length,e.length)===e},e.prototype.accept=function(e){if(e(this)&&this.children)for(var t=0,r=this.children;t<r.length;t++){r[t].accept(e)}},e.prototype.acceptVisitor=function(e){this.accept(e.visitNode.bind(e))},e.prototype.adoptChild=function(e,t){if(void 0===t&&(t=-1),e.parent&&e.parent.children){var r=e.parent.children.indexOf(e);r>=0&&e.parent.children.splice(r,1)}e.parent=this;var i=this.children;return i||(i=this.children=[]),-1!==t?i.splice(t,0,e):i.push(e),e},e.prototype.attachTo=function(e,t){return void 0===t&&(t=-1),e&&e.adoptChild(this,t),this},e.prototype.collectIssues=function(e){this.issues&&e.push.apply(e,this.issues)},e.prototype.addIssue=function(e){this.issues||(this.issues=[]),this.issues.push(e)},e.prototype.hasIssue=function(e){return Array.isArray(this.issues)&&this.issues.some(function(t){return t.getRule()===e})},e.prototype.isErroneous=function(e){return void 0===e&&(e=!1),!!(this.issues&&this.issues.length>0)||e&&Array.isArray(this.children)&&this.children.some(function(e){return e.isErroneous(!0)})},e.prototype.setNode=function(e,t,r){return void 0===r&&(r=-1),!!t&&(t.attachTo(this,r),this[e]=t,!0)},e.prototype.addChild=function(e){return!!e&&(this.children||(this.children=[]),e.attachTo(this),this.updateOffsetAndLength(e),!0)},e.prototype.updateOffsetAndLength=function(e){(e.offset<this.offset||-1===this.offset)&&(this.offset=e.offset);var t=e.end;(t>this.end||-1===this.length)&&(this.length=t-this.offset)},e.prototype.hasChildren=function(){return this.children&&this.children.length>0},e.prototype.getChildren=function(){return this.children?this.children.slice(0):[]},e.prototype.getChild=function(e){return this.children&&e<this.children.length?this.children[e]:null},e.prototype.addChildren=function(e){for(var t=0,r=e;t<r.length;t++){var i=r[t];this.addChild(i)}},e.prototype.findFirstChildBeforeOffset=function(e){if(this.children)for(var t=null,r=this.children.length-1;r>=0;r--)if((t=this.children[r]).offset<=e)return t;return null},e.prototype.findChildAtOffset=function(e,t){var r=this.findFirstChildBeforeOffset(e);return r&&r.end>=e?t&&r.findChildAtOffset(e,!0)||r:null},e.prototype.encloses=function(e){return this.offset<=e.offset&&this.offset+this.length>=e.offset+e.length},e.prototype.getParent=function(){for(var e=this.parent;e instanceof p;)e=e.parent;return e},e.prototype.findParent=function(e){for(var t=this;t&&t.type!==e;)t=t.parent;return t},e.prototype.findAParent=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=this;r&&!e.some(function(e){return r.type===e});)r=r.parent;return r},e.prototype.setData=function(e,t){this.options||(this.options={}),this.options[e]=t},e.prototype.getData=function(e){return this.options&&this.options.hasOwnProperty(e)?this.options[e]:null},e}(),p=function(e){function t(t,r){void 0===r&&(r=-1);var i=e.call(this,-1,-1)||this;return i.attachTo(t,r),i.offset=-1,i.length=-1,i}return o(t,e),t}(h),u=function(e){function t(t,r){var i=e.call(this,t,r)||this;return i.isCustomProperty=!1,i}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Identifier},enumerable:!0,configurable:!0}),t.prototype.containsInterpolation=function(){return this.hasChildren()},t}(h),c=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Stylesheet},enumerable:!0,configurable:!0}),t.prototype.setName=function(e){this.name=e},t}(h),f=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Declarations},enumerable:!0,configurable:!0}),t}(h),l=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),t.prototype.getDeclarations=function(){return this.declarations},t.prototype.setDeclarations=function(e){return this.setNode("declarations",e)},t}(h),d=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Ruleset},enumerable:!0,configurable:!0}),t.prototype.getSelectors=function(){return this.selectors||(this.selectors=new p(this)),this.selectors},t.prototype.isNested=function(){return!!this.parent&&null!==this.parent.findParent(i.Declarations)},t}(l),y=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Selector},enumerable:!0,configurable:!0}),t}(h),m=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.SimpleSelector},enumerable:!0,configurable:!0}),t}(h),g=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.AtApplyRule},enumerable:!0,configurable:!0}),t.prototype.setIdentifier=function(e){return this.setNode("identifier",e,0)},t.prototype.getIdentifier=function(){return this.identifier},t.prototype.getName=function(){return this.identifier?this.identifier.getText():""},t}(h),k=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),t}(h),C=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.CustomPropertyDeclaration},enumerable:!0,configurable:!0}),t.prototype.setProperty=function(e){return this.setNode("property",e)},t.prototype.getProperty=function(){return this.property},t.prototype.setValue=function(e){return this.setNode("value",e)},t.prototype.getValue=function(){return this.value},t.prototype.setPropertySet=function(e){return this.setNode("propertySet",e)},t.prototype.getPropertySet=function(){return this.propertySet},t}(k),v=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.CustomPropertySet},enumerable:!0,configurable:!0}),t}(l),b=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Declaration},enumerable:!0,configurable:!0}),t.prototype.setProperty=function(e){return this.setNode("property",e)},t.prototype.getProperty=function(){return this.property},t.prototype.getFullPropertyName=function(){var e=this.property?this.property.getName():"unknown";if(this.parent instanceof f&&this.parent.getParent()instanceof T){var r=this.parent.getParent().getParent();if(r instanceof t)return r.getFullPropertyName()+e}return e},t.prototype.getNonPrefixedPropertyName=function(){var e=this.getFullPropertyName();if(e&&"-"===e.charAt(0)){var t=e.indexOf("-",1);if(-1!==t)return e.substring(t+1)}return e},t.prototype.setValue=function(e){return this.setNode("value",e)},t.prototype.getValue=function(){return this.value},t.prototype.setNestedProperties=function(e){return this.setNode("nestedProperties",e)},t.prototype.getNestedProperties=function(){return this.nestedProperties},t}(k),x=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Property},enumerable:!0,configurable:!0}),t.prototype.setIdentifier=function(e){return this.setNode("identifier",e)},t.prototype.getIdentifier=function(){return this.identifier},t.prototype.getName=function(){return this.getText()},t.prototype.isCustomProperty=function(){return this.identifier.isCustomProperty},t}(h),_=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Function},enumerable:!0,configurable:!0}),t.prototype.setIdentifier=function(e){return this.setNode("identifier",e,0)},t.prototype.getIdentifier=function(){return this.identifier},t.prototype.getName=function(){return this.identifier?this.identifier.getText():""},t}(function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Invocation},enumerable:!0,configurable:!0}),t.prototype.getArguments=function(){return this.arguments||(this.arguments=new p(this)),this.arguments},t}(h)),P=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.FunctionParameter},enumerable:!0,configurable:!0}),t.prototype.setIdentifier=function(e){return this.setNode("identifier",e,0)},t.prototype.getIdentifier=function(){return this.identifier},t.prototype.getName=function(){return this.identifier?this.identifier.getText():""},t.prototype.setDefaultValue=function(e){return this.setNode("defaultValue",e,0)},t.prototype.getDefaultValue=function(){return this.defaultValue},t}(h),S=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.FunctionArgument},enumerable:!0,configurable:!0}),t.prototype.setIdentifier=function(e){return this.setNode("identifier",e,0)},t.prototype.getIdentifier=function(){return this.identifier},t.prototype.getName=function(){return this.identifier?this.identifier.getText():""},t.prototype.setValue=function(e){return this.setNode("value",e,0)},t.prototype.getValue=function(){return this.value},t}(h),E=(function(e){function t(t,r){return e.call(this,t,r)||this}o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.If},enumerable:!0,configurable:!0}),t.prototype.setExpression=function(e){return this.setNode("expression",e,0)},t.prototype.setElseClause=function(e){return this.setNode("elseClause",e)}}(l),function(e){function t(t,r){return e.call(this,t,r)||this}o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.For},enumerable:!0,configurable:!0}),t.prototype.setVariable=function(e){return this.setNode("variable",e,0)}}(l),function(e){function t(t,r){return e.call(this,t,r)||this}o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Each},enumerable:!0,configurable:!0}),t.prototype.getVariables=function(){return this.variables||(this.variables=new p(this)),this.variables}}(l),function(e){function t(t,r){return e.call(this,t,r)||this}o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.While},enumerable:!0,configurable:!0})}(l),function(e){function t(t,r){return e.call(this,t,r)||this}o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Else},enumerable:!0,configurable:!0})}(l),function(e){function t(t,r){return e.call(this,t,r)||this}o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.FunctionDeclaration},enumerable:!0,configurable:!0}),t.prototype.setIdentifier=function(e){return this.setNode("identifier",e,0)},t.prototype.getIdentifier=function(){return this.identifier},t.prototype.getName=function(){return this.identifier?this.identifier.getText():""},t.prototype.getParameters=function(){return this.parameters||(this.parameters=new p(this)),this.parameters}}(l),function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.ViewPort},enumerable:!0,configurable:!0}),t}(l)),I=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.FontFace},enumerable:!0,configurable:!0}),t}(l),T=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.NestedProperties},enumerable:!0,configurable:!0}),t}(l),A=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Keyframe},enumerable:!0,configurable:!0}),t.prototype.setKeyword=function(e){return this.setNode("keyword",e,0)},t.prototype.getKeyword=function(){return this.keyword},t.prototype.setIdentifier=function(e){return this.setNode("identifier",e,0)},t.prototype.getIdentifier=function(){return this.identifier},t.prototype.getName=function(){return this.identifier?this.identifier.getText():""},t}(l),w=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.KeyframeSelector},enumerable:!0,configurable:!0}),t}(l),R=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Import},enumerable:!0,configurable:!0}),t.prototype.setMedialist=function(e){return!!e&&(e.attachTo(this),this.medialist=e,!0)},t}(h),N=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Namespace},enumerable:!0,configurable:!0}),t}(h),D=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Media},enumerable:!0,configurable:!0}),t}(l),O=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Supports},enumerable:!0,configurable:!0}),t}(l),L=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Document},enumerable:!0,configurable:!0}),t}(l),V=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),t.prototype.getMediums=function(){return this.mediums||(this.mediums=new p(this)),this.mediums},t}(h),F=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.MediaQuery},enumerable:!0,configurable:!0}),t}(h),M=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.SupportsCondition},enumerable:!0,configurable:!0}),t}(h),B=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Page},enumerable:!0,configurable:!0}),t}(l),j=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.PageBoxMarginBox},enumerable:!0,configurable:!0}),t}(l),K=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Expression},enumerable:!0,configurable:!0}),t}(h),U=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.BinaryExpression},enumerable:!0,configurable:!0}),t.prototype.setLeft=function(e){return this.setNode("left",e)},t.prototype.getLeft=function(){return this.left},t.prototype.setRight=function(e){return this.setNode("right",e)},t.prototype.getRight=function(){return this.right},t.prototype.setOperator=function(e){return this.setNode("operator",e)},t.prototype.getOperator=function(){return this.operator},t}(h),W=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Term},enumerable:!0,configurable:!0}),t.prototype.setOperator=function(e){return this.setNode("operator",e)},t.prototype.getOperator=function(){return this.operator},t.prototype.setExpression=function(e){return this.setNode("expression",e)},t.prototype.getExpression=function(){return this.expression},t}(h),q=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.AttributeSelector},enumerable:!0,configurable:!0}),t.prototype.setNamespacePrefix=function(e){return this.setNode("namespacePrefix",e)},t.prototype.getNamespacePrefix=function(){return this.namespacePrefix},t.prototype.setIdentifier=function(e){return this.setNode("identifier",e)},t.prototype.getIdentifier=function(){return this.identifier},t.prototype.setOperator=function(e){return this.setNode("operator",e)},t.prototype.getOperator=function(){return this.operator},t.prototype.setValue=function(e){return this.setNode("value",e)},t.prototype.getValue=function(){return this.value},t}(h),X=(function(e){function t(t,r){return e.call(this,t,r)||this}o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Operator},enumerable:!0,configurable:!0})}(h),function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.HexColorValue},enumerable:!0,configurable:!0}),t}(h)),Q=".".charCodeAt(0),H="0".charCodeAt(0),z="9".charCodeAt(0),$=function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.NumericValue},enumerable:!0,configurable:!0}),t.prototype.getValue=function(){for(var e,t=this.getText(),r=0,i=0,n=t.length;i<n&&(e=t.charCodeAt(i),H<=e&&e<=z||e===Q);i++)r+=1;return{value:t.substring(0,r),unit:r<t.length?t.substring(r):void 0}},t}(h),G=(function(e){function t(t,r){var i=e.call(this,t,r)||this;return i.needsSemicolon=!0,i}o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.VariableDeclaration},enumerable:!0,configurable:!0}),t.prototype.setVariable=function(e){return!!e&&(e.attachTo(this),this.variable=e,!0)},t.prototype.getVariable=function(){return this.variable},t.prototype.getName=function(){return this.variable?this.variable.getName():""},t.prototype.setValue=function(e){return!!e&&(e.attachTo(this),this.value=e,!0)},t.prototype.getValue=function(){return this.value}}(k),function(e){function t(t,r){return e.call(this,t,r)||this}o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.Interpolation},enumerable:!0,configurable:!0})}(h),function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.VariableName},enumerable:!0,configurable:!0}),t.prototype.getName=function(){return this.getText()},t}(h)),J=(function(e){function t(t,r){return e.call(this,t,r)||this}o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.ExtendsReference},enumerable:!0,configurable:!0}),t.prototype.getSelectors=function(){return this.selectors||(this.selectors=new p(this)),this.selectors}}(h),function(e){function t(t,r){return e.call(this,t,r)||this}o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.MixinReference},enumerable:!0,configurable:!0}),t.prototype.getNamespaces=function(){return this.namespaces||(this.namespaces=new p(this)),this.namespaces},t.prototype.setIdentifier=function(e){return this.setNode("identifier",e,0)},t.prototype.getIdentifier=function(){return this.identifier},t.prototype.getName=function(){return this.identifier?this.identifier.getText():""},t.prototype.getArguments=function(){return this.arguments||(this.arguments=new p(this)),this.arguments},t.prototype.setContent=function(e){return this.setNode("content",e)},t.prototype.getContent=function(){return this.content}}(h),function(e){function t(t,r){return e.call(this,t,r)||this}o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.MixinDeclaration},enumerable:!0,configurable:!0}),t.prototype.setIdentifier=function(e){return this.setNode("identifier",e,0)},t.prototype.getIdentifier=function(){return this.identifier},t.prototype.getName=function(){return this.identifier?this.identifier.getText():""},t.prototype.getParameters=function(){return this.parameters||(this.parameters=new p(this)),this.parameters},t.prototype.setGuard=function(e){return e&&(e.attachTo(this),this.guard=e),!1}}(l),function(e){function t(t,r){return e.call(this,t,r)||this}return o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.UnknownAtRule},enumerable:!0,configurable:!0}),t.prototype.setAtRuleName=function(e){this.atRuleName=e},t.prototype.getAtRuleName=function(e){return this.atRuleName},t}(l));(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}o(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.ListEntry},enumerable:!0,configurable:!0}),t.prototype.setKey=function(e){return this.setNode("key",e,0)},t.prototype.setValue=function(e){return this.setNode("value",e,1)}})(h),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}o(t,e),t.prototype.getConditions=function(){return this.conditions||(this.conditions=new p(this)),this.conditions}}(h),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}o(t,e),t.prototype.setVariable=function(e){return this.setNode("variable",e)}}(h);!function(e){e[e.Ignore=1]="Ignore",e[e.Warning=2]="Warning",e[e.Error=4]="Error"}(a||(a={}));var Z=function(){function e(e,t,r,i,n,s){void 0===n&&(n=e.offset),void 0===s&&(s=e.length),this.node=e,this.rule=t,this.level=r,this.message=i||t.message,this.offset=n,this.length=s}return e.prototype.getRule=function(){return this.rule},e.prototype.getLevel=function(){return this.level},e.prototype.getOffset=function(){return this.offset},e.prototype.getLength=function(){return this.length},e.prototype.getNode=function(){return this.node},e.prototype.getMessage=function(){return this.message},e}(),Y=function(){function e(){this.entries=[]}return e.entries=function(t){var r=new e;return t.acceptVisitor(r),r.entries},e.prototype.visitNode=function(e){return e.isErroneous()&&e.collectIssues(this.entries),!0},e}();var ee,te=function(){function e(e,t){this.offset=e,this.length=t,this.symbols=[],this.parent=null,this.children=[]}return e.prototype.addChild=function(e){this.children.push(e),e.setParent(this)},e.prototype.setParent=function(e){this.parent=e},e.prototype.findScope=function(e,t){return void 0===t&&(t=0),this.offset<=e&&this.offset+this.length>e+t||this.offset===e&&this.length===t?this.findInScope(e,t):null},e.prototype.findInScope=function(e,t){void 0===t&&(t=0);var r=e+t,i=function(e,t){var r=0,i=e.length;if(0===i)return 0;for(;r<i;){var n=Math.floor((r+i)/2);t(e[n])?i=n:r=n+1}return r}(this.children,function(e){return e.offset>r});if(0===i)return this;var n=this.children[i-1];return n.offset<=e&&n.offset+n.length>=e+t?n.findInScope(e,t):this},e.prototype.addSymbol=function(e){this.symbols.push(e)},e.prototype.getSymbol=function(e,t){for(var r=0;r<this.symbols.length;r++){var i=this.symbols[r];if(i.name===e&&i.type===t)return i}return null},e.prototype.getSymbols=function(){return this.symbols},e}(),re=function(e){function t(){return e.call(this,0,Number.MAX_VALUE)||this}return o(t,e),t}(te),ie=function(e,t,r,i){this.name=e,this.value=t,this.node=r,this.type=i},ne=function(){function e(e){this.scope=e}return e.prototype.addSymbol=function(e,t,r,i){if(-1!==e.offset){var n=this.scope.findScope(e.offset,e.length);n&&n.addSymbol(new ie(t,r,e,i))}},e.prototype.addScope=function(e){if(-1!==e.offset){var t=this.scope.findScope(e.offset,e.length);if(t&&(t.offset!==e.offset||t.length!==e.length)){var r=new te(e.offset,e.length);return t.addChild(r),r}return t}return null},e.prototype.addSymbolToChildScope=function(e,t,r,i,n){if(e&&-1!==e.offset){var s=this.addScope(e);s&&s.addSymbol(new ie(r,i,t,n))}},e.prototype.visitNode=function(e){switch(e.type){case i.Keyframe:return this.addSymbol(e,e.getName(),void 0,n.Keyframe),!0;case i.CustomPropertyDeclaration:return this.visitCustomPropertyDeclarationNode(e);case i.VariableDeclaration:return this.visitVariableDeclarationNode(e);case i.Ruleset:return this.visitRuleSet(e);case i.MixinDeclaration:return this.addSymbol(e,e.getName(),void 0,n.Mixin),!0;case i.FunctionDeclaration:return this.addSymbol(e,e.getName(),void 0,n.Function),!0;case i.FunctionParameter:return this.visitFunctionParameterNode(e);case i.Declarations:return this.addScope(e),!0;case i.For:var t=e,r=t.getDeclarations();return r&&this.addSymbolToChildScope(r,t.variable,t.variable.getName(),void 0,n.Variable),!0;case i.Each:var s=e,o=s.getDeclarations();if(o)for(var a=0,h=s.getVariables().getChildren();a<h.length;a++){var p=h[a];this.addSymbolToChildScope(o,p,p.getName(),void 0,n.Variable)}return!0}return!0},e.prototype.visitRuleSet=function(e){var t=this.scope.findScope(e.offset,e.length);if(t)for(var r=0,i=e.getSelectors().getChildren();r<i.length;r++){var s=i[r];s instanceof y&&1===s.getChildren().length&&t.addSymbol(new ie(s.getChild(0).getText(),void 0,s,n.Rule))}return!0},e.prototype.visitVariableDeclarationNode=function(e){var t=e.getValue()?e.getValue().getText():void 0;return this.addSymbol(e,e.getName(),t,n.Variable),!0},e.prototype.visitFunctionParameterNode=function(e){var t=e.getParent().getDeclarations();if(t){var r=e.getDefaultValue(),i=r?r.getText():void 0;this.addSymbolToChildScope(t,e,e.getName(),i,n.Variable)}return!0},e.prototype.visitCustomPropertyDeclarationNode=function(e){var t=e.getValue()?e.getValue().getText():"";return this.addCSSVariable(e.getProperty(),e.getProperty().getName(),t,n.Variable),!0},e.prototype.addCSSVariable=function(e,t,r,i){-1!==e.offset&&this.scope.addSymbol(new ie(t,r,e,i))},e}();!function(){function e(e){this.global=new re,e.acceptVisitor(new ne(this.global))}e.prototype.findSymbolsAtOffset=function(e,t){for(var r=this.global.findScope(e,0),i=[],n={};r;){for(var s=r.getSymbols(),o=0;o<s.length;o++){var a=s[o];a.type!==t||n[a.name]||(i.push(a),n[a.name]=!0)}r=r.parent}return i},e.prototype.internalFindSymbol=function(e,t){var r=e;if(e.parent instanceof P&&e.parent.getParent()instanceof l&&(r=e.parent.getParent().getDeclarations()),e.parent instanceof S&&e.parent.getParent()instanceof _){var i=e.parent.getParent().getIdentifier();if(i){var s=this.internalFindSymbol(i,[n.Function]);s&&(r=s.node.getDeclarations())}}if(!r)return null;for(var o=e.getText(),a=this.global.findScope(r.offset,r.length);a;){for(var h=0;h<t.length;h++){var p=t[h],u=a.getSymbol(o,p);if(u)return u}a=a.parent}return null},e.prototype.evaluateReferenceTypes=function(e){if(e instanceof u){var t=e.referenceTypes;if(t)return t;if(e.isCustomProperty)return[n.Variable];var r=function(e){var t=e.findParent(i.Declaration);return t&&t.getValue()&&t.getValue().encloses(e)?t:null}(e);if(r){var s=r.getNonPrefixedPropertyName();if(("animation"===s||"animation-name"===s)&&r.getValue()&&r.getValue().offset===e.offset)return[n.Keyframe]}}else if(e instanceof G)return[n.Variable];return e.findAParent(i.Selector,i.ExtendsReference)?[n.Rule]:null},e.prototype.findSymbolFromNode=function(e){if(!e)return null;for(;e.type===i.Interpolation;)e=e.getParent();var t=this.evaluateReferenceTypes(e);return t?this.internalFindSymbol(e,t):null},e.prototype.matchesSymbol=function(e,t){if(!e)return!1;for(;e.type===i.Interpolation;)e=e.getParent();if(t.name.length!==e.length||t.name!==e.getText())return!1;var r=this.evaluateReferenceTypes(e);return!(!r||-1===r.indexOf(t.type))&&this.internalFindSymbol(e,r)===t},e.prototype.findSymbol=function(e,t,r){for(var i=this.global.findScope(r);i;){var n=i.getSymbol(e,t);if(n)return n;i=i.parent}return null}}();!function(e){e.Ident=0,e.AtKeyword=1,e.String=2,e.BadString=3,e.UnquotedString=4,e.Hash=5,e.Num=6,e.Percentage=7,e.Dimension=8,e.UnicodeRange=9,e.CDO=10,e.CDC=11,e.Colon=12,e.SemiColon=13,e.CurlyL=14,e.CurlyR=15,e.ParenthesisL=16,e.ParenthesisR=17,e.BracketL=18,e.BracketR=19,e.Whitespace=20,e.Includes=21,e.Dashmatch=22,e.SubstringOperator=23,e.PrefixOperator=24,e.SuffixOperator=25,e.Delim=26,e.EMS=27,e.EXS=28,e.Length=29,e.Angle=30,e.Time=31,e.Freq=32,e.Exclamation=33,e.Resolution=34,e.Comma=35,e.Charset=36,e.EscapedJavaScript=37,e.BadEscapedJavaScript=38,e.Comment=39,e.SingleLineComment=40,e.EOF=41,e.CustomToken=42}(ee||(ee={}));var se=function(){function e(e){this.source=e,this.len=e.length,this.position=0}return e.prototype.substring=function(e,t){return void 0===t&&(t=this.position),this.source.substring(e,t)},e.prototype.eos=function(){return this.len<=this.position},e.prototype.pos=function(){return this.position},e.prototype.goBackTo=function(e){this.position=e},e.prototype.goBack=function(e){this.position-=e},e.prototype.advance=function(e){this.position+=e},e.prototype.nextChar=function(){return this.source.charCodeAt(this.position++)||0},e.prototype.peekChar=function(e){return void 0===e&&(e=0),this.source.charCodeAt(this.position+e)||0},e.prototype.lookbackChar=function(e){return void 0===e&&(e=0),this.source.charCodeAt(this.position-e)||0},e.prototype.advanceIfChar=function(e){return e===this.source.charCodeAt(this.position)&&(this.position++,!0)},e.prototype.advanceIfChars=function(e){if(this.position+e.length>this.source.length)return!1;for(var t=0;t<e.length;t++)if(this.source.charCodeAt(this.position+t)!==e[t])return!1;return this.advance(t),!0},e.prototype.advanceWhileChar=function(e){for(var t=this.position;this.position<this.len&&e(this.source.charCodeAt(this.position));)this.position++;return this.position-t},e}(),oe="a".charCodeAt(0),ae="f".charCodeAt(0),he="z".charCodeAt(0),pe="A".charCodeAt(0),ue="F".charCodeAt(0),ce="Z".charCodeAt(0),fe=(H="0".charCodeAt(0),z="9".charCodeAt(0),"~".charCodeAt(0)),le="^".charCodeAt(0),de="=".charCodeAt(0),ye="|".charCodeAt(0),me="-".charCodeAt(0),ge="_".charCodeAt(0),ke="%".charCodeAt(0),Ce="*".charCodeAt(0),ve="(".charCodeAt(0),be=")".charCodeAt(0),xe="<".charCodeAt(0),_e=">".charCodeAt(0),Pe="@".charCodeAt(0),Se="#".charCodeAt(0),Ee="$".charCodeAt(0),Ie="\\".charCodeAt(0),Te="/".charCodeAt(0),Ae="\n".charCodeAt(0),we="\r".charCodeAt(0),Re="\f".charCodeAt(0),Ne='"'.charCodeAt(0),De="'".charCodeAt(0),Oe=" ".charCodeAt(0),Le="\t".charCodeAt(0),Ve=";".charCodeAt(0),Fe=":".charCodeAt(0),Me="{".charCodeAt(0),Be="}".charCodeAt(0),je="[".charCodeAt(0),Ke="]".charCodeAt(0),Ue=",".charCodeAt(0),We=".".charCodeAt(0),qe="!".charCodeAt(0),Xe={};Xe[Ve]=ee.SemiColon,Xe[Fe]=ee.Colon,Xe[Me]=ee.CurlyL,Xe[Be]=ee.CurlyR,Xe[Ke]=ee.BracketR,Xe[je]=ee.BracketL,Xe[ve]=ee.ParenthesisL,Xe[be]=ee.ParenthesisR,Xe[Ue]=ee.Comma;var Qe={};Qe.em=ee.EMS,Qe.ex=ee.EXS,Qe.px=ee.Length,Qe.cm=ee.Length,Qe.mm=ee.Length,Qe.in=ee.Length,Qe.pt=ee.Length,Qe.pc=ee.Length,Qe.deg=ee.Angle,Qe.rad=ee.Angle,Qe.grad=ee.Angle,Qe.ms=ee.Time,Qe.s=ee.Time,Qe.hz=ee.Freq,Qe.khz=ee.Freq,Qe["%"]=ee.Percentage,Qe.fr=ee.Percentage,Qe.dpi=ee.Resolution,Qe.dpcm=ee.Resolution;var He=function(){function e(e){this.stream=new se(""),this.ignoreComment=!1!==e,this.ignoreWhitespace=!1!==e,this.inURL=!1}return e.prototype.setSource=function(e){this.stream=new se(e)},e.prototype.finishToken=function(e,t,r){return{offset:e,len:this.stream.pos()-e,type:t,text:r||this.stream.substring(e)}},e.prototype.substring=function(e,t){return this.stream.substring(e,e+t)},e.prototype.pos=function(){return this.stream.pos()},e.prototype.goBackTo=function(e){this.stream.goBackTo(e)},e.prototype.scanUnquotedString=function(){var e=this.stream.pos(),t=[];return this._unquotedString(t)?this.finishToken(e,ee.UnquotedString,t.join("")):null},e.prototype.scan=function(){var e=this.trivia();if(null!==e)return e;var t=this.stream.pos();return this.stream.eos()?this.finishToken(t,ee.EOF):this.scanNext(t)},e.prototype.scanNext=function(e){if(this.stream.advanceIfChars([xe,qe,me,me]))return this.finishToken(e,ee.CDO);if(this.stream.advanceIfChars([me,me,_e]))return this.finishToken(e,ee.CDC);var t=[];if(this.ident(t))return this.finishToken(e,ee.Ident,t.join(""));if(this.stream.advanceIfChar(Pe)){if(t=["@"],this._name(t)){var r=t.join("");return"@charset"===r?this.finishToken(e,ee.Charset,r):this.finishToken(e,ee.AtKeyword,r)}return this.finishToken(e,ee.Delim)}if(this.stream.advanceIfChar(Se))return t=["#"],this._name(t)?this.finishToken(e,ee.Hash,t.join("")):this.finishToken(e,ee.Delim);if(this.stream.advanceIfChar(qe))return this.finishToken(e,ee.Exclamation);if(this._number()){var i=this.stream.pos();if(t=[this.stream.substring(e,i)],this.stream.advanceIfChar(ke))return this.finishToken(e,ee.Percentage);if(this.ident(t)){var n=this.stream.substring(i).toLowerCase(),s=Qe[n];return void 0!==s?this.finishToken(e,s,t.join("")):this.finishToken(e,ee.Dimension,t.join(""))}return this.finishToken(e,ee.Num)}t=[];var o=this._string(t);return null!==o?this.finishToken(e,o,t.join("")):void 0!==(o=Xe[this.stream.peekChar()])?(this.stream.advance(1),this.finishToken(e,o)):this.stream.peekChar(0)===fe&&this.stream.peekChar(1)===de?(this.stream.advance(2),this.finishToken(e,ee.Includes)):this.stream.peekChar(0)===ye&&this.stream.peekChar(1)===de?(this.stream.advance(2),this.finishToken(e,ee.Dashmatch)):this.stream.peekChar(0)===Ce&&this.stream.peekChar(1)===de?(this.stream.advance(2),this.finishToken(e,ee.SubstringOperator)):this.stream.peekChar(0)===le&&this.stream.peekChar(1)===de?(this.stream.advance(2),this.finishToken(e,ee.PrefixOperator)):this.stream.peekChar(0)===Ee&&this.stream.peekChar(1)===de?(this.stream.advance(2),this.finishToken(e,ee.SuffixOperator)):(this.stream.nextChar(),this.finishToken(e,ee.Delim))},e.prototype._matchWordAnyCase=function(e){var t=0;return this.stream.advanceWhileChar(function(r){var i=e[t]===r||e[t+1]===r;return i&&(t+=2),i}),t===e.length||(this.stream.goBack(t/2),!1)},e.prototype.trivia=function(){for(;;){var e=this.stream.pos();if(this._whitespace()){if(!this.ignoreWhitespace)return this.finishToken(e,ee.Whitespace)}else{if(!this.comment())return null;if(!this.ignoreComment)return this.finishToken(e,ee.Comment)}}},e.prototype.comment=function(){if(this.stream.advanceIfChars([Te,Ce])){var e=!1,t=!1;return this.stream.advanceWhileChar(function(r){return t&&r===Te?(e=!0,!1):(t=r===Ce,!0)}),e&&this.stream.advance(1),!0}return!1},e.prototype._number=function(){var e,t=0;return this.stream.peekChar()===We&&(t=1),(e=this.stream.peekChar(t))>=H&&e<=z&&(this.stream.advance(t+1),this.stream.advanceWhileChar(function(e){return e>=H&&e<=z||0===t&&e===We}),!0)},e.prototype._newline=function(e){var t=this.stream.peekChar();switch(t){case we:case Re:case Ae:return this.stream.advance(1),e.push(String.fromCharCode(t)),t===we&&this.stream.advanceIfChar(Ae)&&e.push("\n"),!0}return!1},e.prototype._escape=function(e,t){var r=this.stream.peekChar();if(r===Ie){this.stream.advance(1),r=this.stream.peekChar();for(var i=0;i<6&&(r>=H&&r<=z||r>=oe&&r<=ae||r>=pe&&r<=ue);)this.stream.advance(1),r=this.stream.peekChar(),i++;if(i>0){try{var n=parseInt(this.stream.substring(this.stream.pos()-i),16);n&&e.push(String.fromCharCode(n))}catch(e){}return r===Oe||r===Le?this.stream.advance(1):this._newline([]),!0}if(r!==we&&r!==Re&&r!==Ae)return this.stream.advance(1),e.push(String.fromCharCode(r)),!0;if(t)return this._newline(e)}return!1},e.prototype._stringChar=function(e,t){var r=this.stream.peekChar();return 0!==r&&r!==e&&r!==Ie&&r!==we&&r!==Re&&r!==Ae&&(this.stream.advance(1),t.push(String.fromCharCode(r)),!0)},e.prototype._string=function(e){if(this.stream.peekChar()===De||this.stream.peekChar()===Ne){var t=this.stream.nextChar();for(e.push(String.fromCharCode(t));this._stringChar(t,e)||this._escape(e,!0););return this.stream.peekChar()===t?(this.stream.nextChar(),e.push(String.fromCharCode(t)),ee.String):ee.BadString}return null},e.prototype._unquotedChar=function(e){var t=this.stream.peekChar();return 0!==t&&t!==Ie&&t!==De&&t!==Ne&&t!==ve&&t!==be&&t!==Oe&&t!==Le&&t!==Ae&&t!==Re&&t!==we&&(this.stream.advance(1),e.push(String.fromCharCode(t)),!0)},e.prototype._unquotedString=function(e){for(var t=!1;this._unquotedChar(e)||this._escape(e);)t=!0;return t},e.prototype._whitespace=function(){return this.stream.advanceWhileChar(function(e){return e===Oe||e===Le||e===Ae||e===Re||e===we})>0},e.prototype._name=function(e){for(var t=!1;this._identChar(e)||this._escape(e);)t=!0;return t},e.prototype.ident=function(e){var t=this.stream.pos();if(this._minus(e)&&this._minus(e)){if(this._identFirstChar(e)||this._escape(e)){for(;this._identChar(e)||this._escape(e););return!0}}else if(this._identFirstChar(e)||this._escape(e)){for(;this._identChar(e)||this._escape(e););return!0}return this.stream.goBackTo(t),!1},e.prototype._identFirstChar=function(e){var t=this.stream.peekChar();return(t===ge||t>=oe&&t<=he||t>=pe&&t<=ce||t>=128&&t<=65535)&&(this.stream.advance(1),e.push(String.fromCharCode(t)),!0)},e.prototype._minus=function(e){var t=this.stream.peekChar();return t===me&&(this.stream.advance(1),e.push(String.fromCharCode(t)),!0)},e.prototype._identChar=function(e){var t=this.stream.peekChar();return(t===ge||t===me||t>=oe&&t<=he||t>=pe&&t<=ce||t>=H&&t<=z||t>=128&&t<=65535)&&(this.stream.advance(1),e.push(String.fromCharCode(t)),!0)},e}(),ze=function(){function e(e,t){void 0===e&&(e=new He(t)),this.keyframeRegex=/^@(\-(webkit|ms|moz|o)\-)?keyframes$/i,this.scanner=e,this.token=null,this.prevToken=null}return e.prototype.peekIdent=function(e){return ee.Ident===this.token.type&&e.length===this.token.text.length&&e===this.token.text.toLowerCase()},e.prototype.peekKeyword=function(e){return ee.AtKeyword===this.token.type&&e.length===this.token.text.length&&e===this.token.text.toLowerCase()},e.prototype.peekDelim=function(e){return ee.Delim===this.token.type&&e===this.token.text},e.prototype.peek=function(e){return e===this.token.type},e.prototype.peekRegExp=function(e,t){return e===this.token.type&&t.test(this.token.text)},e.prototype.hasWhitespace=function(){return this.prevToken&&this.prevToken.offset+this.prevToken.len!==this.token.offset},e.prototype.consumeToken=function(){this.prevToken=this.token,this.token=this.scanner.scan()},e.prototype.mark=function(){return{prev:this.prevToken,curr:this.token,pos:this.scanner.pos()}},e.prototype.restoreAtMark=function(e){this.prevToken=e.prev,this.token=e.curr,this.scanner.goBackTo(e.pos)},e.prototype.try=function(e){var t=this.mark(),r=e();return r||(this.restoreAtMark(t),null)},e.prototype.acceptOneKeyword=function(e){if(ee.AtKeyword===this.token.type)for(var t=0,r=e;t<r.length;t++){var i=r[t];if(i.length===this.token.text.length&&i===this.token.text.toLowerCase())return this.consumeToken(),!0}return!1},e.prototype.accept=function(e){return e===this.token.type&&(this.consumeToken(),!0)},e.prototype.acceptIdent=function(e){return!!this.peekIdent(e)&&(this.consumeToken(),!0)},e.prototype.acceptKeyword=function(e){return!!this.peekKeyword(e)&&(this.consumeToken(),!0)},e.prototype.acceptDelim=function(e){return!!this.peekDelim(e)&&(this.consumeToken(),!0)},e.prototype.acceptUnquotedString=function(){var e=this.scanner.pos();this.scanner.goBackTo(this.token.offset);var t=this.scanner.scanUnquotedString();return t?(this.token=t,this.consumeToken(),!0):(this.scanner.goBackTo(e),!1)},e.prototype.resync=function(e,t){for(;;){if(e&&-1!==e.indexOf(this.token.type))return this.consumeToken(),!0;if(t&&-1!==t.indexOf(this.token.type))return!0;if(this.token.type===ee.EOF)return!1;this.token=this.scanner.scan()}},e.prototype.createNode=function(e){return new h(this.token.offset,this.token.len,e)},e.prototype.create=function(e){return new e(this.token.offset,this.token.len)},e.prototype.finish=function(e,t,r,i){if(!(e instanceof p)&&(t&&this.markError(e,t,r,i),null!==this.prevToken)){var n=this.prevToken.offset+this.prevToken.len;e.length=n>e.offset?n-e.offset:0}return e},e.prototype.markError=function(e,t,r,i){this.token!==this.lastErrorToken&&(e.addIssue(new Z(e,t,a.Error,null,this.token.offset,this.token.len)),this.lastErrorToken=this.token),(r||i)&&this.resync(r,i)},e.prototype.parseStylesheet=function(e){return this.internalParse(e,this._parseStylesheet,function(t,r){return e.substr(t,r)})},e.prototype.internalParse=function(e,t,r){this.scanner.setSource(e),this.token=this.scanner.scan();var i=t.bind(this)();return i&&(i.textProvider=r||function(t,r){return e.substr(t,r)}),i},e.prototype._parseStylesheet=function(){var e=this.create(c);e.addChild(this._parseCharset());var t=!1;do{var r=!1;do{r=!1;var i=this._parseStylesheetStatement();for(i&&(e.addChild(i),r=!0,t=!1,this.peek(ee.EOF)||!this._needsSemicolonAfter(i)||this.accept(ee.SemiColon)||this.markError(e,s.SemiColonExpected));this.accept(ee.SemiColon)||this.accept(ee.CDO)||this.accept(ee.CDC);)r=!0,t=!1}while(r);if(this.peek(ee.EOF))break;t||(this.peek(ee.AtKeyword)?this.markError(e,s.UnknownAtRule):this.markError(e,s.RuleOrSelectorExpected),t=!0),this.consumeToken()}while(!this.peek(ee.EOF));return this.finish(e)},e.prototype._parseStylesheetStatement=function(e){return void 0===e&&(e=!1),this.peek(ee.AtKeyword)?this._parseStylesheetAtStatement(e):this._parseRuleset(e)},e.prototype._parseStylesheetAtStatement=function(e){return void 0===e&&(e=!1),this._parseImport()||this._parseMedia(e)||this._parsePage()||this._parseFontFace()||this._parseKeyframe()||this._parseSupports(e)||this._parseViewPort()||this._parseNamespace()||this._parseDocument()||this._parseUnknownAtRule()},e.prototype._tryParseRuleset=function(e){var t=this.mark();if(this._parseSelector(e)){for(;this.accept(ee.Comma)&&this._parseSelector(e););if(this.accept(ee.CurlyL))return this.restoreAtMark(t),this._parseRuleset(e)}return this.restoreAtMark(t),null},e.prototype._parseRuleset=function(e){void 0===e&&(e=!1);var t=this.create(d),r=t.getSelectors();if(!r.addChild(this._parseSelector(e)))return null;for(;this.accept(ee.Comma);)if(!r.addChild(this._parseSelector(e)))return this.finish(t,s.SelectorExpected);return this._parseBody(t,this._parseRuleSetDeclaration.bind(this))},e.prototype._parseRuleSetDeclaration=function(){return this._parseAtApply()||this._tryParseCustomPropertyDeclaration()||this._parseDeclaration()||this._parseUnknownAtRule()},e.prototype._parseAtApply=function(){if(!this.peekKeyword("@apply"))return null;var e=this.create(g);return this.consumeToken(),e.setIdentifier(this._parseIdent([n.Variable]))?this.finish(e):this.finish(e,s.IdentifierExpected)},e.prototype._needsSemicolonAfter=function(e){switch(e.type){case i.Keyframe:case i.ViewPort:case i.Media:case i.Ruleset:case i.Namespace:case i.If:case i.For:case i.Each:case i.While:case i.MixinDeclaration:case i.FunctionDeclaration:return!1;case i.ExtendsReference:case i.MixinContent:case i.ReturnStatement:case i.MediaQuery:case i.Debug:case i.Import:case i.AtApplyRule:case i.CustomPropertyDeclaration:return!0;case i.VariableDeclaration:return e.needsSemicolon;case i.MixinReference:return!e.getContent();case i.Declaration:return!e.getNestedProperties()}return!1},e.prototype._parseDeclarations=function(e){var t=this.create(f);if(!this.accept(ee.CurlyL))return null;for(var r=e();t.addChild(r)&&!this.peek(ee.CurlyR);){if(this._needsSemicolonAfter(r)&&!this.accept(ee.SemiColon))return this.finish(t,s.SemiColonExpected,[ee.SemiColon,ee.CurlyR]);for(;this.accept(ee.SemiColon););r=e()}return this.accept(ee.CurlyR)?this.finish(t):this.finish(t,s.RightCurlyExpected,[ee.CurlyR,ee.SemiColon])},e.prototype._parseBody=function(e,t){return e.setDeclarations(this._parseDeclarations(t))?this.finish(e):this.finish(e,s.LeftCurlyExpected,[ee.CurlyR,ee.SemiColon])},e.prototype._parseSelector=function(e){var t=this.create(y),r=!1;for(e&&(r=t.addChild(this._parseCombinator()));t.addChild(this._parseSimpleSelector());)r=!0,t.addChild(this._parseCombinator());return r?this.finish(t):null},e.prototype._parseDeclaration=function(e){var t=this.create(b);return t.setProperty(this._parseProperty())?this.accept(ee.Colon)?(t.colonPosition=this.prevToken.offset,t.setValue(this._parseExpr())?(t.addChild(this._parsePrio()),this.peek(ee.SemiColon)&&(t.semicolonPosition=this.token.offset),this.finish(t)):this.finish(t,s.PropertyValueExpected)):this.finish(t,s.ColonExpected,[ee.Colon],e):null},e.prototype._tryParseCustomPropertyDeclaration=function(){if(!this.peekRegExp(ee.Ident,/^--/))return null;var e=this.create(C);if(!e.setProperty(this._parseProperty()))return null;if(!this.accept(ee.Colon))return this.finish(e,s.ColonExpected,[ee.Colon]);e.colonPosition=this.prevToken.offset;var t=this.mark();if(this.peek(ee.CurlyL)){var r=this.create(v),i=this._parseDeclarations(this._parseRuleSetDeclaration.bind(this));if(r.setDeclarations(i)&&!i.isErroneous(!0)&&(r.addChild(this._parsePrio()),this.peek(ee.SemiColon)))return this.finish(r),e.setPropertySet(r),e.semicolonPosition=this.token.offset,this.finish(e);this.restoreAtMark(t)}var n=this._parseExpr();return n&&!n.isErroneous(!0)&&(this._parsePrio(),this.peek(ee.SemiColon))?(e.setValue(n),e.semicolonPosition=this.token.offset,this.finish(e)):(this.restoreAtMark(t),e.addChild(this._parseCustomPropertyValue()),e.addChild(this._parsePrio()),this.token.offset===e.colonPosition+1?this.finish(e,s.PropertyValueExpected):this.finish(e))},e.prototype._parseCustomPropertyValue=function(){var e=this.create(h),t=function(){return 0===r&&0===i&&0===n},r=0,i=0,n=0;e:for(;;){switch(this.token.type){case ee.SemiColon:case ee.Exclamation:if(t())break e;break;case ee.CurlyL:r++;break;case ee.CurlyR:if(--r<0){if(0===i&&0===n)break e;return this.finish(e,s.LeftCurlyExpected)}break;case ee.ParenthesisL:i++;break;case ee.ParenthesisR:if(--i<0)return this.finish(e,s.LeftParenthesisExpected);break;case ee.BracketL:n++;break;case ee.BracketR:if(--n<0)return this.finish(e,s.LeftSquareBracketExpected);break;case ee.BadString:break e;case ee.EOF:var o=s.RightCurlyExpected;return n>0?o=s.RightSquareBracketExpected:i>0&&(o=s.RightParenthesisExpected),this.finish(e,o)}this.consumeToken()}return this.finish(e)},e.prototype._tryToParseDeclaration=function(){var e=this.mark();return this._parseProperty()&&this.accept(ee.Colon)?(this.restoreAtMark(e),this._parseDeclaration()):(this.restoreAtMark(e),null)},e.prototype._parseProperty=function(){var e=this.create(x),t=this.mark();return(this.acceptDelim("*")||this.acceptDelim("_"))&&this.hasWhitespace()?(this.restoreAtMark(t),null):e.setIdentifier(this._parsePropertyIdentifier())?this.finish(e):null},e.prototype._parsePropertyIdentifier=function(){return this._parseIdent()},e.prototype._parseCharset=function(){if(!this.peek(ee.Charset))return null;var e=this.create(h);return this.consumeToken(),this.accept(ee.String)?this.accept(ee.SemiColon)?this.finish(e):this.finish(e,s.SemiColonExpected):this.finish(e,s.IdentifierExpected)},e.prototype._parseImport=function(){if(!this.peekKeyword("@import"))return null;var e=this.create(R);return this.consumeToken(),e.addChild(this._parseURILiteral())||e.addChild(this._parseStringLiteral())?(this.peek(ee.SemiColon)||this.peek(ee.EOF)||e.setMedialist(this._parseMediaQueryList()),this.finish(e)):this.finish(e,s.URIOrStringExpected)},e.prototype._parseNamespace=function(){if(!this.peekKeyword("@namespace"))return null;var e=this.create(N);return this.consumeToken(),e.addChild(this._parseURILiteral())||(e.addChild(this._parseIdent()),e.addChild(this._parseURILiteral())||e.addChild(this._parseStringLiteral()))?this.accept(ee.SemiColon)?this.finish(e):this.finish(e,s.SemiColonExpected):this.finish(e,s.URIExpected,[ee.SemiColon])},e.prototype._parseFontFace=function(){if(!this.peekKeyword("@font-face"))return null;var e=this.create(I);return this.consumeToken(),this._parseBody(e,this._parseRuleSetDeclaration.bind(this))},e.prototype._parseViewPort=function(){if(!this.peekKeyword("@-ms-viewport")&&!this.peekKeyword("@-o-viewport")&&!this.peekKeyword("@viewport"))return null;var e=this.create(E);return this.consumeToken(),this._parseBody(e,this._parseRuleSetDeclaration.bind(this))},e.prototype._parseKeyframe=function(){if(!this.peekRegExp(ee.AtKeyword,this.keyframeRegex))return null;var e=this.create(A),t=this.create(h);return this.consumeToken(),e.setKeyword(this.finish(t)),"@-ms-keyframes"===t.getText()&&this.markError(t,s.UnknownKeyword),e.setIdentifier(this._parseKeyframeIdent())?this._parseBody(e,this._parseKeyframeSelector.bind(this)):this.finish(e,s.IdentifierExpected,[ee.CurlyR])},e.prototype._parseKeyframeIdent=function(){return this._parseIdent([n.Keyframe])},e.prototype._parseKeyframeSelector=function(){var e=this.create(w);if(!e.addChild(this._parseIdent())&&!this.accept(ee.Percentage))return null;for(;this.accept(ee.Comma);)if(!e.addChild(this._parseIdent())&&!this.accept(ee.Percentage))return this.finish(e,s.PercentageExpected);return this._parseBody(e,this._parseRuleSetDeclaration.bind(this))},e.prototype._tryParseKeyframeSelector=function(){var e=this.create(w),t=this.mark();if(!e.addChild(this._parseIdent())&&!this.accept(ee.Percentage))return null;for(;this.accept(ee.Comma);)if(!e.addChild(this._parseIdent())&&!this.accept(ee.Percentage))return this.restoreAtMark(t),null;return this.peek(ee.CurlyL)?this._parseBody(e,this._parseRuleSetDeclaration.bind(this)):(this.restoreAtMark(t),null)},e.prototype._parseSupports=function(e){if(void 0===e&&(e=!1),!this.peekKeyword("@supports"))return null;var t=this.create(O);return this.consumeToken(),t.addChild(this._parseSupportsCondition()),this._parseBody(t,this._parseSupportsDeclaration.bind(this,e))},e.prototype._parseSupportsDeclaration=function(e){return void 0===e&&(e=!1),e?this._tryParseRuleset(!0)||this._tryToParseDeclaration()||this._parseStylesheetStatement(!0):this._parseStylesheetStatement(!1)},e.prototype._parseSupportsCondition=function(){var e=this.create(M);if(this.acceptIdent("not"))e.addChild(this._parseSupportsConditionInParens());else if(e.addChild(this._parseSupportsConditionInParens()),this.peekRegExp(ee.Ident,/^(and|or)$/i))for(var t=this.token.text.toLowerCase();this.acceptIdent(t);)e.addChild(this._parseSupportsConditionInParens());return this.finish(e)},e.prototype._parseSupportsConditionInParens=function(){var e=this.create(M);if(this.accept(ee.ParenthesisL))return e.lParent=this.prevToken.offset,e.addChild(this._tryToParseDeclaration())||this._parseSupportsCondition()?this.accept(ee.ParenthesisR)?(e.rParent=this.prevToken.offset,this.finish(e)):this.finish(e,s.RightParenthesisExpected,[ee.ParenthesisR],[]):this.finish(e,s.ConditionExpected);if(this.peek(ee.Ident)){var t=this.mark();if(this.consumeToken(),!this.hasWhitespace()&&this.accept(ee.ParenthesisL)){for(var r=1;this.token.type!==ee.EOF&&0!==r;)this.token.type===ee.ParenthesisL?r++:this.token.type===ee.ParenthesisR&&r--,this.consumeToken();return this.finish(e)}this.restoreAtMark(t)}return this.finish(e,s.LeftParenthesisExpected,[],[ee.ParenthesisL])},e.prototype._parseMediaDeclaration=function(e){return void 0===e&&(e=!1),e?this._tryParseRuleset(!0)||this._tryToParseDeclaration()||this._parseStylesheetStatement(!0):this._parseStylesheetStatement(!1)},e.prototype._parseMedia=function(e){if(void 0===e&&(e=!1),!this.peekKeyword("@media"))return null;var t=this.create(D);return this.consumeToken(),t.addChild(this._parseMediaQueryList())?this._parseBody(t,this._parseMediaDeclaration.bind(this,e)):this.finish(t,s.MediaQueryExpected)},e.prototype._parseMediaQueryList=function(){var e=this.create(V);if(!e.addChild(this._parseMediaQuery([ee.CurlyL])))return this.finish(e,s.MediaQueryExpected);for(;this.accept(ee.Comma);)if(!e.addChild(this._parseMediaQuery([ee.CurlyL])))return this.finish(e,s.MediaQueryExpected);return this.finish(e)},e.prototype._parseMediaQuery=function(e){var t=this.create(F),r=!0,i=!1;if(!this.peek(ee.ParenthesisL)){if(this.acceptIdent("only")||this.acceptIdent("not"),!t.addChild(this._parseIdent()))return null;i=!0,r=this.acceptIdent("and")}for(;r;){if(!this.accept(ee.ParenthesisL))return i?this.finish(t,s.LeftParenthesisExpected,[],e):null;if(!t.addChild(this._parseMediaFeatureName()))return this.finish(t,s.IdentifierExpected,[],e);if(this.accept(ee.Colon)&&!t.addChild(this._parseExpr()))return this.finish(t,s.TermExpected,[],e);if(!this.accept(ee.ParenthesisR))return this.finish(t,s.RightParenthesisExpected,[],e);r=this.acceptIdent("and")}return this.finish(t)},e.prototype._parseMediaFeatureName=function(){return this._parseIdent()},e.prototype._parseMedium=function(){var e=this.create(h);return e.addChild(this._parseIdent())?this.finish(e):null},e.prototype._parsePageDeclaration=function(){return this._parsePageMarginBox()||this._parseRuleSetDeclaration()},e.prototype._parsePage=function(){if(!this.peekKeyword("@page"))return null;var e=this.create(B);if(this.consumeToken(),e.addChild(this._parsePageSelector()))for(;this.accept(ee.Comma);)if(!e.addChild(this._parsePageSelector()))return this.finish(e,s.IdentifierExpected);return this._parseBody(e,this._parsePageDeclaration.bind(this))},e.prototype._parsePageMarginBox=function(){if(!this.peek(ee.AtKeyword))return null;var e=this.create(j);return this._parseBody(e,this._parseRuleSetDeclaration.bind(this))},e.prototype._parsePageSelector=function(){if(!this.peek(ee.Ident)&&!this.peek(ee.Colon))return null;var e=this.create(h);return e.addChild(this._parseIdent()),this.accept(ee.Colon)&&!e.addChild(this._parseIdent())?this.finish(e,s.IdentifierExpected):this.finish(e)},e.prototype._parseDocument=function(){if(!this.peekKeyword("@-moz-document"))return null;var e=this.create(L);return this.consumeToken(),this.resync([],[ee.CurlyL]),this._parseBody(e,this._parseStylesheetStatement.bind(this))},e.prototype._parseUnknownAtRule=function(){if(!this.peek(ee.AtKeyword))return null;var e=this.create(J);e.addChild(this._parseUnknownAtRuleName());var t=0,r=0,i=0,n=0;e:for(;;){switch(this.token.type){case ee.SemiColon:if(0===r&&0===i&&0===n)break e;break;case ee.EOF:return r>0?this.finish(e,s.RightCurlyExpected):n>0?this.finish(e,s.RightSquareBracketExpected):i>0?this.finish(e,s.RightParenthesisExpected):this.finish(e);case ee.CurlyL:t++,r++;break;case ee.CurlyR:if(r--,t>0&&0===r){if(this.consumeToken(),n>0)return this.finish(e,s.RightSquareBracketExpected);if(i>0)return this.finish(e,s.RightParenthesisExpected);break e}if(r<0){if(0===i&&0===n)break e;return this.finish(e,s.LeftCurlyExpected)}break;case ee.ParenthesisL:i++;break;case ee.ParenthesisR:if(--i<0)return this.finish(e,s.LeftParenthesisExpected);break;case ee.BracketL:n++;break;case ee.BracketR:if(--n<0)return this.finish(e,s.LeftSquareBracketExpected)}this.consumeToken()}return e},e.prototype._parseUnknownAtRuleName=function(){var e=this.create(h);return this.accept(ee.AtKeyword)?this.finish(e):e},e.prototype._parseOperator=function(){if(this.peekDelim("/")||this.peekDelim("*")||this.peekDelim("+")||this.peekDelim("-")||this.peek(ee.Dashmatch)||this.peek(ee.Includes)||this.peek(ee.SubstringOperator)||this.peek(ee.PrefixOperator)||this.peek(ee.SuffixOperator)||this.peekDelim("=")){var e=this.createNode(i.Operator);return this.consumeToken(),this.finish(e)}return null},e.prototype._parseUnaryOperator=function(){if(!this.peekDelim("+")&&!this.peekDelim("-"))return null;var e=this.create(h);return this.consumeToken(),this.finish(e)},e.prototype._parseCombinator=function(){if(this.peekDelim(">")){var e=this.create(h);this.consumeToken();var t=this.mark();if(!this.hasWhitespace()&&this.acceptDelim(">")){if(!this.hasWhitespace()&&this.acceptDelim(">"))return e.type=i.SelectorCombinatorShadowPiercingDescendant,this.finish(e);this.restoreAtMark(t)}return e.type=i.SelectorCombinatorParent,this.finish(e)}if(this.peekDelim("+")){e=this.create(h);return this.consumeToken(),e.type=i.SelectorCombinatorSibling,this.finish(e)}if(this.peekDelim("~")){e=this.create(h);return this.consumeToken(),e.type=i.SelectorCombinatorAllSiblings,this.finish(e)}if(!this.peekDelim("/"))return null;e=this.create(h);this.consumeToken();t=this.mark();if(!this.hasWhitespace()&&this.acceptIdent("deep")&&!this.hasWhitespace()&&this.acceptDelim("/"))return e.type=i.SelectorCombinatorShadowPiercingDescendant,this.finish(e);this.restoreAtMark(t)},e.prototype._parseSimpleSelector=function(){var e=this.create(m),t=0;for(e.addChild(this._parseElementName())&&t++;(0===t||!this.hasWhitespace())&&e.addChild(this._parseSimpleSelectorBody());)t++;return t>0?this.finish(e):null},e.prototype._parseSimpleSelectorBody=function(){return this._parsePseudo()||this._parseHash()||this._parseClass()||this._parseAttrib()},e.prototype._parseSelectorIdent=function(){return this._parseIdent()},e.prototype._parseHash=function(){if(!this.peek(ee.Hash)&&!this.peekDelim("#"))return null;var e=this.createNode(i.IdentifierSelector);if(this.acceptDelim("#")){if(this.hasWhitespace()||!e.addChild(this._parseSelectorIdent()))return this.finish(e,s.IdentifierExpected)}else this.consumeToken();return this.finish(e)},e.prototype._parseClass=function(){if(!this.peekDelim("."))return null;var e=this.createNode(i.ClassSelector);return this.consumeToken(),this.hasWhitespace()||!e.addChild(this._parseSelectorIdent())?this.finish(e,s.IdentifierExpected):this.finish(e)},e.prototype._parseElementName=function(){var e=this.mark(),t=this.createNode(i.ElementNameSelector);return t.addChild(this._parseNamespacePrefix()),t.addChild(this._parseSelectorIdent())||this.acceptDelim("*")?this.finish(t):(this.restoreAtMark(e),null)},e.prototype._parseNamespacePrefix=function(){var e=this.mark(),t=this.createNode(i.NamespacePrefix);return!t.addChild(this._parseIdent())&&this.acceptDelim("*"),this.acceptDelim("|")?this.finish(t):(this.restoreAtMark(e),null)},e.prototype._parseAttrib=function(){if(!this.peek(ee.BracketL))return null;var e=this.create(q);return this.consumeToken(),e.setNamespacePrefix(this._parseNamespacePrefix()),e.setIdentifier(this._parseIdent())?(e.setOperator(this._parseOperator())&&(e.setValue(this._parseBinaryExpr()),this.acceptIdent("i")),this.accept(ee.BracketR)?this.finish(e):this.finish(e,s.RightSquareBracketExpected)):this.finish(e,s.IdentifierExpected)},e.prototype._parsePseudo=function(){var e=this,t=this._tryParsePseudoIdentifier();if(t){if(!this.hasWhitespace()&&this.accept(ee.ParenthesisL)){if(t.addChild(this.try(function(){var t=e.create(h);if(!t.addChild(e._parseSelector(!1)))return null;for(;e.accept(ee.Comma)&&t.addChild(e._parseSelector(!1)););return e.peek(ee.ParenthesisR)?e.finish(t):void 0})||this._parseBinaryExpr()),!this.accept(ee.ParenthesisR))return this.finish(t,s.RightParenthesisExpected)}return this.finish(t)}return null},e.prototype._tryParsePseudoIdentifier=function(){if(!this.peek(ee.Colon))return null;var e=this.mark(),t=this.createNode(i.PseudoSelector);return this.consumeToken(),this.hasWhitespace()?(this.restoreAtMark(e),null):(this.accept(ee.Colon)&&this.hasWhitespace()&&this.markError(t,s.IdentifierExpected),t.addChild(this._parseIdent())||this.markError(t,s.IdentifierExpected),t)},e.prototype._tryParsePrio=function(){var e=this.mark(),t=this._parsePrio();return t||(this.restoreAtMark(e),null)},e.prototype._parsePrio=function(){if(!this.peek(ee.Exclamation))return null;var e=this.createNode(i.Prio);return this.accept(ee.Exclamation)&&this.acceptIdent("important")?this.finish(e):null},e.prototype._parseExpr=function(e){void 0===e&&(e=!1);var t=this.create(K);if(!t.addChild(this._parseBinaryExpr()))return null;for(;;){if(this.peek(ee.Comma)){if(e)return this.finish(t);this.consumeToken()}if(!t.addChild(this._parseBinaryExpr()))break}return this.finish(t)},e.prototype._parseNamedLine=function(){if(!this.peek(ee.BracketL))return null;var e=this.createNode(i.GridLine);for(this.consumeToken();e.addChild(this._parseIdent()););return this.accept(ee.BracketR)?this.finish(e):this.finish(e,s.RightSquareBracketExpected)},e.prototype._parseBinaryExpr=function(e,t){var r=this.create(U);if(!r.setLeft(e||this._parseTerm()))return null;if(!r.setOperator(t||this._parseOperator()))return this.finish(r);if(!r.setRight(this._parseTerm()))return this.finish(r,s.TermExpected);r=this.finish(r);var i=this._parseOperator();return i&&(r=this._parseBinaryExpr(r,i)),this.finish(r)},e.prototype._parseTerm=function(){var e=this.create(W);return e.setOperator(this._parseUnaryOperator()),e.setExpression(this._parseURILiteral())||e.setExpression(this._parseFunction())||e.setExpression(this._parseIdent())||e.setExpression(this._parseStringLiteral())||e.setExpression(this._parseNumeric())||e.setExpression(this._parseHexColor())||e.setExpression(this._parseOperation())||e.setExpression(this._parseNamedLine())?this.finish(e):null},e.prototype._parseOperation=function(){if(!this.peek(ee.ParenthesisL))return null;var e=this.create(h);return this.consumeToken(),e.addChild(this._parseExpr()),this.accept(ee.ParenthesisR)?this.finish(e):this.finish(e,s.RightParenthesisExpected)},e.prototype._parseNumeric=function(){if(this.peek(ee.Num)||this.peek(ee.Percentage)||this.peek(ee.Resolution)||this.peek(ee.Length)||this.peek(ee.EMS)||this.peek(ee.EXS)||this.peek(ee.Angle)||this.peek(ee.Time)||this.peek(ee.Dimension)||this.peek(ee.Freq)){var e=this.create($);return this.consumeToken(),this.finish(e)}return null},e.prototype._parseStringLiteral=function(){if(!this.peek(ee.String)&&!this.peek(ee.BadString))return null;var e=this.createNode(i.StringLiteral);return this.consumeToken(),this.finish(e)},e.prototype._parseURILiteral=function(){if(!this.peekRegExp(ee.Ident,/^url(-prefix)?$/i))return null;var e=this.mark(),t=this.createNode(i.URILiteral);return this.accept(ee.Ident),this.hasWhitespace()||!this.peek(ee.ParenthesisL)?(this.restoreAtMark(e),null):(this.scanner.inURL=!0,this.consumeToken(),t.addChild(this._parseURLArgument()),this.scanner.inURL=!1,this.accept(ee.ParenthesisR)?this.finish(t):this.finish(t,s.RightParenthesisExpected))},e.prototype._parseURLArgument=function(){var e=this.create(h);return this.accept(ee.String)||this.accept(ee.BadString)||this.acceptUnquotedString()?this.finish(e):null},e.prototype._parseIdent=function(e){if(!this.peek(ee.Ident))return null;var t=this.create(u);return e&&(t.referenceTypes=e),t.isCustomProperty=this.peekRegExp(ee.Ident,/^--/),this.consumeToken(),this.finish(t)},e.prototype._parseFunction=function(){var e=this.mark(),t=this.create(_);if(!t.setIdentifier(this._parseFunctionIdentifier()))return null;if(this.hasWhitespace()||!this.accept(ee.ParenthesisL))return this.restoreAtMark(e),null;if(t.getArguments().addChild(this._parseFunctionArgument()))for(;this.accept(ee.Comma)&&!this.peek(ee.ParenthesisR);)t.getArguments().addChild(this._parseFunctionArgument())||this.markError(t,s.ExpressionExpected);return this.accept(ee.ParenthesisR)?this.finish(t):this.finish(t,s.RightParenthesisExpected)},e.prototype._parseFunctionIdentifier=function(){if(!this.peek(ee.Ident))return null;var e=this.create(u);if(e.referenceTypes=[n.Function],this.acceptIdent("progid")){if(this.accept(ee.Colon))for(;this.accept(ee.Ident)&&this.acceptDelim("."););return this.finish(e)}return this.consumeToken(),this.finish(e)},e.prototype._parseFunctionArgument=function(){var e=this.create(S);return e.setValue(this._parseExpr(!0))?this.finish(e):null},e.prototype._parseHexColor=function(){if(this.peekRegExp(ee.Hash,/^#([A-Fa-f0-9]{3}|[A-Fa-f0-9]{4}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/g)){var e=this.create(X);return this.consumeToken(),this.finish(e)}return null},e}();function $e(){}return $e.X2U=function(e,t){const r=new He(t);return r.setSource(e),r},$e.Xlf=function(e){return new ze(new He(!1)).parseStylesheet(e)},$e.X5e=function(e){return(new ze).parseStylesheet(e)},$e.X4W=function(e){var t=new ze;return t.internalParse(e,t._parseRuleset,function(t,r){return e.substr(t,r)})},$e.XFY=function(e){var t=new ze;return t.internalParse(e,()=>t._parseDeclarations(t._parseRuleSetDeclaration.bind(t)),function(t,r){return e.substr(t,r)})},$e.X2b=function(e){var t=new ze;return t.internalParse(e,t._parseDeclaration,function(t,r){return e.substr(t,r)})},$e.XZi=function(e){var t=new ze;return t.internalParse(e,t._parseExpr,function(t,r){return e.substr(t,r)})},$e.XhA=function(e){return e.isErroneous(!0)},$e.X4n=function(e){return Y.entries(e)},$e}();